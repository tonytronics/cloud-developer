Note
for secrets I installed the dotenv module
and created a .env file in the root of the project to contain 
all the configuration settings
alternatively on the mac we have the ~/.zshrc file which our terminal runs 
this can be used in place of .env 
the variables are accessed in node via process.env 

To deploy to EBS 
npm run build 
eb create  

* after making changes use this command to update code
eb deploy 

Error posting to S3 via api

<?xml version="1.0" encoding="UTF-8"?>
<Error>
    <Code>SignatureDoesNotMatch</Code>
    <Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message>
    <AWSAccessKeyId>ASIAWSQI43KYHIFSHUT6</AWSAccessKeyId>
    <StringToSign>AWS4-HMAC-SHA256
20220106T000738Z
20220106/us-east-1/s3/aws4_request
c424d508e45b9a385ae6e467c3df56e428be95875c0ce7190671b2a9cdcd2765</StringToSign>
    <SignatureProvided>3ffa123b6361de9cea17c9be701d99ca9c1d52e0cd40b802bc3c9650e244f9ff</SignatureProvided>
    <StringToSignBytes>41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 0a 32 30 32 32 30 31 30 36 54 30 30 30 37 33 38 5a 0a 32 30 32 32 30 31 30 36 2f 75 73 2d 65 61 73 74 2d 31 2f 73 33 2f 61 77 73 34 5f 72 65 71 75 65 73 74 0a 63 34 32 34 64 35 30 38 65 34 35 62 39 61 33 38 35 61 65 36 65 34 36 37 63 33 64 66 35 36 65 34 32 38 62 65 39 35 38 37 35 63 30 63 65 37 31 39 30 36 37 31 62 32 61 39 63 64 63 64 32 37 36 35</StringToSignBytes>
    <CanonicalRequest>POST
/naruto1.jpeg
X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=ASIAWSQI43KYHIFSHUT6%2F20220106%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20220106T000738Z&amp;X-Amz-Expires=300&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJD%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJGMEQCIDMSlAM56zgQNZRpMksNCVwU68j8vqGG7soA1EqpxWhVAiBK1Um19s0XvVk6zWmULvWOPqs2tibcZNU8EYUHfLkNOyqDBAiZ%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDQ1MjA2Mzk3NjExMiIMQW3sifwDkabSlqndKtcDUt%2FrGhKr04xs%2BQrjR%2FSXWN4tim0RCyXqjJePkgLwOmghsxHoua33FFnIgxmzBK5iaGsf9XSk2Cxy6F%2FdoadVKBSGzpV5huxJAxD11mzXYRqfjxGWjofxwgrDHhbYp%2BcK%2B46UH9LL7mOROQxjJknkGH3ZB22H2h7K1xSqo4C31xuV6OxGtVly2XeR9G7l7zn1kG10JIcSPTKpDlnRg6J2kWTsUGcYyKVIqrwNICH9VzqR8eV0PbdxMbgXTIHUW6emtWUt2Ypg9oM0Brv7D%2BXzubKASojYYQNCHDLap1LhOaM5BRFcWGzSE8Gzkmn%2BkIRvoAJgZ4S03CBspcP5ZPC%2FcmTnMGNfySxNxstmaH9FXGjGB6NGckYT6ZGAWvKHTGup3hlOp%2BDEgEy7cEJnkGaDnvyulRhP%2BhpJ%2BzpcnIFDZW6s7%2BmC03bmrDcsNgdFHHTzUcJO1qG1fEG%2BexXfpv1um18pStyr37tVySdLZJH7%2F%2BiJ7%2B7iLd2bNJXYJfC0SIoVVxIIz%2FfA84kuhBynoukAJUKPu8erXcAEBcVOcTvl4tiJJNr3%2Fjr6iJBd8wzVQLRfPeAf4t7DLdsUaLaMo6g21yjRM0GWifpDeberhS%2FpIv9N7G4FcH2PML7d2I4GOqYB%2F4xm1Y7SgV%2B0LJxsU5b2N7GBJGVHo3Ko77vs9ug9XPpXUGKCVXF6Li4iOJmLhglQhrwg6ZyxgM04b43aQtaai1MNic88JvYHqpOxOL5vsTiP1P%2FaWFqWR3G3WpHnD62QV3yZLJq8axyWAwyzERRLjjQ5faBMYN6VbQq80Yks2zv%2FeK1fVczJR0AbZInev%2BwSHkwcvn4bkiXaa9r2jTVLFGtS%2Bwh4Cw%3D%3D&amp;X-Amz-SignedHeaders=host
host:udagram-okusanya-dev.s3.amazonaws.com

host
UNSIGNED-PAYLOAD</CanonicalRequest>
    <CanonicalRequestBytes>50 4f 53 54 0a 2f 6e 61 72 75 74 6f 31 2e 6a 70 65 67 0a 58 2d 41 6d 7a 2d 41 6c 67 6f 72 69 74 68 6d 3d 41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 26 58 2d 41 6d 7a 2d 43 72 65 64 65 6e 74 69 61 6c 3d 41 53 49 41 57 53 51 49 34 33 4b 59 48 49 46 53 48 55 54 36 25 32 46 32 30 32 32 30 31 30 36 25 32 46 75 73 2d 65 61 73 74 2d 31 25 32 46 73 33 25 32 46 61 77 73 34 5f 72 65 71 75 65 73 74 26 58 2d 41 6d 7a 2d 44 61 74 65 3d 32 30 32 32 30 31 30 36 54 30 30 30 37 33 38 5a 26 58 2d 41 6d 7a 2d 45 78 70 69 72 65 73 3d 33 30 30 26 58 2d 41 6d 7a 2d 53 65 63 75 72 69 74 79 2d 54 6f 6b 65 6e 3d 49 51 6f 4a 62 33 4a 70 5a 32 6c 75 58 32 56 6a 45 4a 44 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 77 45 61 43 58 56 7a 4c 57 56 68 63 33 51 74 4d 53 4a 47 4d 45 51 43 49 44 4d 53 6c 41 4d 35 36 7a 67 51 4e 5a 52 70 4d 6b 73 4e 43 56 77 55 36 38 6a 38 76 71 47 47 37 73 6f 41 31 45 71 70 78 57 68 56 41 69 42 4b 31 55 6d 31 39 73 30 58 76 56 6b 36 7a 57 6d 55 4c 76 57 4f 50 71 73 32 74 69 62 63 5a 4e 55 38 45 59 55 48 66 4c 6b 4e 4f 79 71 44 42 41 69 5a 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 25 32 46 38 42 45 41 45 61 44 44 51 31 4d 6a 41 32 4d 7a 6b 33 4e 6a 45 78 4d 69 49 4d 51 57 33 73 69 66 77 44 6b 61 62 53 6c 71 6e 64 4b 74 63 44 55 74 25 32 46 72 47 68 4b 72 30 34 78 73 25 32 42 51 72 6a 52 25 32 46 53 58 57 4e 34 74 69 6d 30 52 43 79 58 71 6a 4a 65 50 6b 67 4c 77 4f 6d 67 68 73 78 48 6f 75 61 33 33 46 46 6e 49 67 78 6d 7a 42 4b 35 69 61 47 73 66 39 58 53 6b 32 43 78 79 36 46 25 32 46 64 6f 61 64 56 4b 42 53 47 7a 70 56 35 68 75 78 4a 41 78 44 31 31 6d 7a 58 59 52 71 66 6a 78 47 57 6a 6f 66 78 77 67 72 44 48 68 62 59 70 25 32 42 63 4b 25 32 42 34 36 55 48 39 4c 4c 37 6d 4f 52 4f 51 78 6a 4a 6b 6e 6b 47 48 33 5a 42 32 32 48 32 68 37 4b 31 78 53 71 6f 34 43 33 31 78 75 56 36 4f 78 47 74 56 6c 79 32 58 65 52 39 47 37 6c 37 7a 6e 31 6b 47 31 30 4a 49 63 53 50 54 4b 70 44 6c 6e 52 67 36 4a 32 6b 57 54 73 55 47 63 59 79 4b 56 49 71 72 77 4e 49 43 48 39 56 7a 71 52 38 65 56 30 50 62 64 78 4d 62 67 58 54 49 48 55 57 36 65 6d 74 57 55 74 32 59 70 67 39 6f 4d 30 42 72 76 37 44 25 32 42 58 7a 75 62 4b 41 53 6f 6a 59 59 51 4e 43 48 44 4c 61 70 31 4c 68 4f 61 4d 35 42 52 46 63 57 47 7a 53 45 38 47 7a 6b 6d 6e 25 32 42 6b 49 52 76 6f 41 4a 67 5a 34 53 30 33 43 42 73 70 63 50 35 5a 50 43 25 32 46 63 6d 54 6e 4d 47 4e 66 79 53 78 4e 78 73 74 6d 61 48 39 46 58 47 6a 47 42 36 4e 47 63 6b 59 54 36 5a 47 41 57 76 4b 48 54 47 75 70 33 68 6c 4f 70 25 32 42 44 45 67 45 79 37 63 45 4a 6e 6b 47 61 44 6e 76 79 75 6c 52 68 50 25 32 42 68 70 4a 25 32 42 7a 70 63 6e 49 46 44 5a 57 36 73 37 25 32 42 6d 43 30 33 62 6d 72 44 63 73 4e 67 64 46 48 48 54 7a 55 63 4a 4f 31 71 47 31 66 45 47 25 32 42 65 78 58 66 70 76 31 75 6d 31 38 70 53 74 79 72 33 37 74 56 79 53 64 4c 5a 4a 48 37 25 32 46 25 32 42 69 4a 37 25 32 42 37 69 4c 64 32 62 4e 4a 58 59 4a 66 43 30 53 49 6f 56 56 78 49 49 7a 25 32 46 66 41 38 34 6b 75 68 42 79 6e 6f 75 6b 41 4a 55 4b 50 75 38 65 72 58 63 41 45 42 63 56 4f 63 54 76 6c 34 74 69 4a 4a 4e 72 33 25 32 46 6a 72 36 69 4a 42 64 38 77 7a 56 51 4c 52 66 50 65 41 66 34 74 37 44 4c 64 73 55 61 4c 61 4d 6f 36 67 32 31 79 6a 52 4d 30 47 57 69 66 70 44 65 62 65 72 68 53 25 32 46 70 49 76 39 4e 37 47 34 46 63 48 32 50 4d 4c 37 64 32 49 34 47 4f 71 59 42 25 32 46 34 78 6d 31 59 37 53 67 56 25 32 42 30 4c 4a 78 73 55 35 62 32 4e 37 47 42 4a 47 56 48 6f 33 4b 6f 37 37 76 73 39 75 67 39 58 50 70 58 55 47 4b 43 56 58 46 36 4c 69 34 69 4f 4a 6d 4c 68 67 6c 51 68 72 77 67 36 5a 79 78 67 4d 30 34 62 34 33 61 51 74 61 61 69 31 4d 4e 69 63 38 38 4a 76 59 48 71 70 4f 78 4f 4c 35 76 73 54 69 50 31 50 25 32 46 61 57 46 71 57 52 33 47 33 57 70 48 6e 44 36 32 51 56 33 79 5a 4c 4a 71 38 61 78 79 57 41 77 79 7a 45 52 52 4c 6a 6a 51 35 66 61 42 4d 59 4e 36 56 62 51 71 38 30 59 6b 73 32 7a 76 25 32 46 65 4b 31 66 56 63 7a 4a 52 30 41 62 5a 49 6e 65 76 25 32 42 77 53 48 6b 77 63 76 6e 34 62 6b 69 58 61 61 39 72 32 6a 54 56 4c 46 47 74 53 25 32 42 77 68 34 43 77 25 33 44 25 33 44 26 58 2d 41 6d 7a 2d 53 69 67 6e 65 64 48 65 61 64 65 72 73 3d 68 6f 73 74 0a 68 6f 73 74 3a 75 64 61 67 72 61 6d 2d 6f 6b 75 73 61 6e 79 61 2d 64 65 76 2e 73 33 2e 61 6d 61 7a 6f 6e 61 77 73 2e 63 6f 6d 0a 0a 68 6f 73 74 0a 55 4e 53 49 47 4e 45 44 2d 50 41 59 4c 4f 41 44</CanonicalRequestBytes>
    <RequestId>8Q8JD21R4S3KTAPB</RequestId>
    <HostId>2ymZMWomtMlzJIO8RldCUIWqCIGW5ixISV5P4XSz0f/g1z0CrDKNTI1XtD0vbXdIN+dzElfe+3Q=</HostId>
</Error>